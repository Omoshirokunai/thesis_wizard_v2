<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Query</title>
</head>
<body>
    <h1>LLM Query with Model Selection</h1>

    <!-- Model Selection and System Prompt Form -->
    <form method="post" action="{{ url_for('update_settings_route') }}">
        <label for="model">Select Model:</label>
        <select name="model" id="model">
            {% for model in models %}
                <option value="{{ model }}" {% if model == settings.model_path %}selected{% endif %}>
                    {{ model }}
                </option>
            {% endfor %}
        </select>
        <br><br>

        <label for="system_prompt">System Prompt:</label><br>
        <textarea name="system_prompt" rows="3" cols="40" placeholder="Enter system prompt">{{ settings.system_prompt }}</textarea>
        <br><br>

        <button type="submit">Save Settings</button>
    </form>

    <h1>LLM Interaction</h1>
    <form method="POST">
        <label for="prompt">Your Input:</label>
        <textarea name="prompt" id="prompt" rows="5" cols="50"></textarea><br>
        <button type="submit">Submit</button>
    </form>

    {% if response %}
    <h2>Model Response:</h2>
    <p>{{ response }}</p>
    {% endif %}

    {% if stats %}
    <h3>Content Statistics:</h3>
    <p>User Words: {{ stats.user_words }}</p>
    <p>Model Words: {{ stats.model_words }}</p>
    <p>User Contribution: {{ stats.user_percentage }}%</p>
    <p>Model Contribution: {{ stats.model_percentage }}%</p>
    {% endif %}
</body>
</html>
